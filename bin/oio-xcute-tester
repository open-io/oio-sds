#!/usr/bin/env python

import argparse

from oio.cli import make_logger_args_parser, get_logger_from_args
from oio.xcute.tester import TesterJob


def make_arg_parser():
    log_parser = make_logger_args_parser()
    descr = """
    Xcute tester
    """
    parser = argparse.ArgumentParser(description=descr, parents=[log_parser])

    parser.add_argument('namespace', help="Namespace")

    return parser


if __name__ == '__main__':
    args = make_arg_parser().parse_args()
    logger = get_logger_from_args(args)

    conf = {'namespace': args.namespace}
    conf['redis_host'] = '127.0.0.1:6379'

    TesterJob(conf, logger=logger).run()
